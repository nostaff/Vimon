<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/components/slides-lite/slides.vue</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../index.html">all files</a> / <a href="index.html">src/components/slides-lite/</a> slides.vue
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/25</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/6</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/3</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/25</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">&lt;style lang="less"&gt;
    .slides-lite {
        &amp;.slides-container {
            overflow: hidden;
            visibility: hidden;
            position: relative;
            margin-left: auto;
            margin-right: auto;
            z-index: 1;
            width: 100%;
            padding: 0;
            display: flex;
            .slides-wrapper {
                overflow: hidden;
                position: relative;
                display: flex;
                flex-wrap: nowrap;
                width: 100%;
                height: 100%;
                padding: 0;
            }
        }
        .swiper-pagination {
            position: absolute;
            text-align: center;
            transition: 300ms;
            transform: translate3d(0, 0, 0);
            z-index: 10;
            &amp;.swiper-pagination-bullets {
                bottom: 10px;
                left: 0;
                width: 100%;
            }
            .swiper-pagination-bullet {
                margin: 0 5px;
                width: 8px;
                height: 8px;
                display: inline-block;
                border-radius: 100%;
                background: #000;
                opacity: .2;
                &amp;.swiper-pagination-bullet-active {
                    opacity: 1;
                    background: #007aff;
                }
            }
        }
    }
&lt;/style&gt;
&lt;template&gt;
    &lt;div class="slides-lite slides-container" :id="slideId"&gt;
        &lt;div class='slides-wrapper'&gt;
            &lt;slot&gt;&lt;/slot&gt;
        &lt;/div&gt;
        &lt;!-- Add Pagination --&gt;
        &lt;div v-if="pagination &amp;&amp; swiper &amp;&amp; swiper.slides &amp;&amp; swiper.slides.length&gt;0"
             :class="{'swiper-pagination':pagination}"
             class="swiper-pagination-bullets"&gt;
            &lt;span class="swiper-pagination-bullet" v-for="(item,index) in swiper.slides"
                  :class="{'swiper-pagination-bullet-active':swiper.activeIndex === index}"&gt;&lt;/span&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;
&lt;script type="text/javascript"&gt;
  /**
   * @component SlidesLite
   * @description
   *
   * ## 轮播组件 / 精简版Slides组件
   *
   * 参考的项目源自`swipe-js-iso`, 详情转向下方链接, 此外 为了保证和Slide组件接口的一致性, 将同操作和同属性的接口改成和Slides一致的名称
   *
   *
   * ### 对照表
   *
   当前属性 / Props                  | 原始名称 / Original              | 类型 / type  | 默认值 / Default | 描述 / Description
   ------------------------------|------------------------------|------------|---------------|-------------------------------------------------------------------------------------------
   initialSlide                  | startSlide                   | Number     | 0             | index position Swipe should start at
   speed                         | speed                        | Number     | 300           | speed of prev and next transitions in milliseconds.
   autoplay                      | auto                         | Number     | -             | begin with auto slideshow (time in milliseconds between slides)
   loop                          | continuous                   | Boolean    | true          | create an infinite feel with no endpoints
   -                             | disableScroll                | Boolean    | false         | stop any touches on this container from scrolling the page(点击拖动轮播是否能滚动页面,pc上可以,移动端不起作用)
   touchMoveStopPropagation      | stopPropagation              | Boolean    | false         | stop event propagation
   pagination                    | -                            | String     | ''            | 只能是'.swiper-pagination'
&nbsp;
   *
   *
   当前事件 / Event                  | 原始名称 / Original              | 类型 / type  | 默认值 / Default | 描述 / Description
   ----------------------------- | ---------------------------- | ---------- | -------       | -----------------------------------------------------------------------------------------
   onProgress(swiper, progress)  | swiping(progress)            | Function   | noop          | invoked while swiping with the percentage (0-1) of the full width that has been swiped.
   onSlideChangeEnd(swiper)      | callback(index, elem)        | Function   | noop          | runs at slide change(改变即触发).
   onTransitionEnd(swiper)       | transitionEnd(index, elem)   | Function   | noop          | sruns at the end slide transition(改变并且动画完毕后触发, 实际比callback晚点).
   *
   *
   实例方法 / Methods                         | 原始名称 / Original        | 描述 / Description
   ---------------------------------------|------------------------|-----------------------------------------------------------------------------
   slidePrev(runCallbacks, speed)         | prev()                 | slide to prev
   slideNext(runCallbacks, speed)         | next()                 | slide to next
   mySwiper.activeIndex                   | getPos()               | returns current slide index position(返回当前的index)
   mySwiper.slides.length                 | getNumSlides()         | returns the total amount of slides(返回轮播子页面的个数)
   slideTo(index, duration, runCallbacks) | slide(index, duration) | slide to set index position (duration: speed of transition in milliseconds)
   stopAutoplay()                         | stop()                 | 停止自动滚动
   destroy()                              | kill()                 | 移除销毁
   *
   *
   * @demo #/slides-lite
   * @see https://github.com/voronianski/swipe-js-iso
   * */
  import Swipe from 'swipe-js-iso'
&nbsp;
  export default {
    name: 'Slides',
    props: {
      pagination: String,                                       // 指示器的class, 且只支持'.swiper-pagination'
      initialSlide: {type: Number, default: 0},                 // 初始的index
      speed: {type: Number, default: 400},                      // 速度
      autoplay: {type: Number, default: 0},                     // 自动播放时间
      loop: {type: Boolean, default: false},                    // 循环
      touchMoveStopPropagation: {type: Boolean, default: false} // 是否冒泡
    },
&nbsp;
    data () {
<span class="cstat-no" title="statement not covered" >      return {</span>
        init: false, // 是否初始化
        timer: null, // 初始化的计时器
        swipe: null, // swipe-js-iso 实例
        swiper: null // 模拟 Swiper 接口的部分
      }
    },
    computed: {
      slideId () {
<span class="cstat-no" title="statement not covered" >        return 'slidesLite-' + this._ui</span>d
      }
    },
    methods: {
      initSlides () {
        const _this <span class="cstat-no" title="statement not covered" >= thi</span>s
<span class="cstat-no" title="statement not covered" >        this.timer &amp;&amp; window.clearTimeout(this.timer</span>)
<span class="cstat-no" title="statement not covered" >        this.timer = window.setTimeout(() =<span class="fstat-no" title="function not covered" >&gt; {</span></span>
<span class="cstat-no" title="statement not covered" >          if (!this.init) {</span>
<span class="cstat-no" title="statement not covered" >            this.swipe = new Swipe(this.$el, {</span>
              startSlide: this.initialSlide,
              speed: this.speed,
              auto: this.autoplay,
              continuous: this.loop,
              disableScroll: false,
              stopPropagation: this.touchMoveStopPropagation,
              swiping (progress) {
<span class="cstat-no" title="statement not covered" >                _this.$emit('onProgress', _this.swiper, progress</span>)
              },
              callback (index) {
<span class="cstat-no" title="statement not covered" >                _this.swiper.activeIndex = inde</span>x
<span class="cstat-no" title="statement not covered" >                _this.$emit('onSlideChangeEnd', _this.swiper</span>)
              },
              transitionEnd (index) {
<span class="cstat-no" title="statement not covered" >                _this.swiper.activeIndex = inde</span>x
<span class="cstat-no" title="statement not covered" >                _this.$emit('onTransitionEnd', _this.swiper</span>)
              }
            })
<span class="cstat-no" title="statement not covered" >            this.swiper = {</span>
              activeIndex: _this.initialSlide,
              slides: (() =<span class="fstat-no" title="function not covered" >&gt; <span class="cstat-no" title="statement not covered" >{ return _this.$childre</span>n </span>})(),
              slidePrev () {
<span class="cstat-no" title="statement not covered" >                _this.swipe.prev(</span>)
              },
              slideNext () {
<span class="cstat-no" title="statement not covered" >                _this.swipe.next(</span>)
              },
              slideTo (index, duration) {
<span class="cstat-no" title="statement not covered" >                _this.swipe.slide(index, duration</span>)
              },
              update () {
<span class="cstat-no" title="statement not covered" >                _this.$nextTick(() =<span class="fstat-no" title="function not covered" >&gt; {</span></span>
<span class="cstat-no" title="statement not covered" >                  _this.swiper.slides = _this.$childre</span>n
<span class="cstat-no" title="statement not covered" >                  _this.swipe.setup(</span>)
                })
              },
              stopAutoplay () {
<span class="cstat-no" title="statement not covered" >                _this.swipe.stop(</span>)
              },
              destroy () {
<span class="cstat-no" title="statement not covered" >                _this.swipe.kill(</span>)
              }
            }
<span class="cstat-no" title="statement not covered" >            this.init = tru</span>e
          } else {
<span class="cstat-no" title="statement not covered" >            this.swiper.update(</span>)
          }
        }, 0)
      }
    },
    destroyed () {
<span class="cstat-no" title="statement not covered" >      this.swiper &amp;&amp; this.swiper.destroy(</span>)
    }
  }
&lt;/script&gt;
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sat Nov 04 2017 21:46:17 GMT+0800 (CST)
</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
